{% extends "base.html" %}

{% block title %}–ò–Ω—Å–ø–∏—Ä–∞—Ü–∏—ò–∞ –∑–∞ –ø–∏—à—É–≤–∞—ö–µ - –ú–µ–Ω—Ç–∞–ª–Ω–æ–ó–¥—Ä–∞–≤—ò–µ{% endblock %}

{% block content %}
<div class="max-w-6xl mx-auto">
    <!-- Header -->
    <div class="text-center mb-8">
        <div class="text-6xl mb-4">üí°</div>
        <h1 class="text-4xl font-bold text-purple-800 mb-2">–ò–Ω—Å–ø–∏—Ä–∞—Ü–∏—ò–∞ –∑–∞ –ø–∏—à—É–≤–∞—ö–µ</h1>
        <p class="text-purple-600 text-lg">–û—Ç–∫—Ä–∏—ò—Ç–µ –Ω–æ–≤–∏ –Ω–∞—á–∏–Ω–∏ –∑–∞ –ª–∏—á–µ–Ω —Ä–∞—Å—Ç</p>
    </div>

    <!-- Quick Start Section -->
    <div class="card mb-8 bg-gradient-to-r from-purple-50 via-pink-50 to-purple-50">
        <div class="text-center">
            <div class="text-4xl mb-4">üé≤</div>
            <h2 class="text-2xl font-bold text-purple-800 mb-4">–°–ª—É—á–∞—ò–Ω–æ –ø—Ä–∞—à–∞—ö–µ</h2>
            <p class="text-purple-600 mb-6">–ù–µ –∑–Ω–∞–µ—Ç–µ –æ–¥ –∫–∞–¥–µ –¥–∞ –∑–∞–ø–æ—á–Ω–µ—Ç–µ? –ù–µ–∫–∞ –≤–∏ –ø–æ–º–æ–≥–Ω–µ–º–µ!</p>

            <div class="bg-white rounded-xl p-6 shadow-inner mb-6">
                <p class="text-lg text-purple-800 font-medium" id="random-question">
                    –ö–ª–∏–∫–Ω–µ—Ç–µ –Ω–∞ –∫–æ–ø—á–µ—Ç–æ –∑–∞ –¥–∞ –¥–æ–±–∏–µ—Ç–µ –∏–Ω—Å–ø–∏—Ä–∞—Ü–∏—ò–∞!
                </p>
            </div>

            <div class="flex flex-wrap justify-center gap-4">
                <button id="get-random-question"     class="bg-gradient-to-r from-purple-500 to-purple-700 text-white font-semibold rounded-full shadow-lg hover:shadow-xl hover:from-purple-600 hover:to-purple-800 transition-all duration-300 px-8 py-4"
>
                    üéØ –î–∞—ò—Ç–µ –º–∏ –ø—Ä–∞—à–∞—ö–µ
                </button>
                <button id="use-question" class="btn-secondary" style="display: none;">
                    ‚úèÔ∏è –ö–æ—Ä–∏—Å—Ç–∏ –≥–æ –æ–≤–∞ –ø—Ä–∞—à–∞—ö–µ
                </button>
            </div>
        </div>
    </div>

    <!-- Categories Tabs -->
    <div class="mb-8">
        <div class="flex flex-wrap justify-center gap-2 mb-6">
            <button class="category-tab active  inline-block bg-white border border-purple-400 text-purple-700 font-semibold rounded-full px-6 py-3 shadow hover:bg-purple-50 transition-all duration-300" data-category="all">
                üåü –°–∏—Ç–µ
            </button>
            {% for category in categories %}
            <button class="category-tab inline-block bg-white border border-purple-400 text-purple-700 font-semibold rounded-full px-6 py-3 shadow hover:bg-purple-50 transition-all duration-300" data-category="{{ category }}">
                {% if category == '–°–∞–º–æ—Ä–µfl–µ–∫—Å–∏—ò–∞' %}üîç
                {% elif category == '–ï–º–æ—Ü–∏–∏' %}‚ù§Ô∏è
                {% elif category == '–¶–µ–ª–∏' %}üéØ
                {% elif category == '–û–¥–Ω–æ—Å–∏' %}üë•
                {% elif category == '–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç' %}üôè
                {% endif %}
                {{ category }}
            </button>
            {% endfor %}
        </div>
    </div>

    <!-- Prompts Grid -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8" id="prompts-grid">
        <!-- Self-reflection prompts -->
        <div class="prompt-card card p-2 rounded-xl hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2" data-category="–°–∞–º–æ—Ä–µfl–µ–∫—Å–∏—ò–∞">
            <div class="text-3xl mb-3">üîç</div>
            <h3 class="text-lg font-semibold text-purple-800 mb-3">–°–∞–º–æ—Ä–µ—Ñ–ª–µ–∫—Å–∏—ò–∞</h3>
            <div class="space-y-2 text-sm text-purple-700">
                <p>‚Ä¢ –®—Ç–æ –Ω–æ–≤ –Ω–∞—É—á–∏–≤ –∑–∞ —Å–µ–±–µ –æ–≤–∞–∞ –Ω–µ–¥–µ–ª–∞?</p>
                <p>‚Ä¢ –ö–æ–≥–∞ –ø–æ—Å–ª–µ–¥–µ–Ω –ø–∞—Ç –∏–∑–ª–µ–≥–æ–≤ –æ–¥ –º–æ—ò–∞—Ç–∞ –∑–æ–Ω–∞ –Ω–∞ –∫–æ–º—Ñ–æ—Ä?</p>
                <p>‚Ä¢ –ö–æ–∏ —Å–µ –º–æ–∏—Ç–µ –Ω–∞—ò–≥–æ–ª–µ–º–∏ —ò–∞—á–∏–Ω–∏?</p>
                <p>‚Ä¢ –®—Ç–æ –±–∏ —Å–∞–∫–∞–ª/–∞ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏–∞–º –≤–æ —Å–µ–±–µ?</p>
            </div>
            <button class="mt-4 text-purple-600 hover:text-purple-800 font-medium transition-colors duration-200"
                    onclick="useCategory('–°–∞–º–æ—Ä–µfl–µ–∫—Å–∏—ò–∞')">
                –ò–∑–±–µ—Ä–∏ ‚Üí
            </button>
        </div>

        <!-- Emotions prompts -->
        <div class="prompt-card card p-2 rounded-xl hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2" data-category="–ï–º–æ—Ü–∏–∏">
            <div class="text-3xl mb-3">‚ù§Ô∏è</div>
            <h3 class="text-lg font-semibold text-purple-800 mb-3">–ï–º–æ—Ü–∏–∏</h3>
            <div class="space-y-2 text-sm text-purple-700">
                <p>‚Ä¢ –ö–æ—ò–∞ –µ–º–æ—Ü–∏—ò–∞ –º–µ –≤–æ–¥–µ—à–µ –¥–µ–Ω–µ—Å?</p>
                <p>‚Ä¢ –ö–æ–≥–∞ —Å–µ —á—É–≤—Å—Ç–≤—É–≤–∞–º –Ω–∞—ò–∞–≤—Ç–µ–Ω—Ç–∏—á–Ω–æ?</p>
                <p>‚Ä¢ –ö–∞–∫–æ —Å–µ —Å–ø—Ä–∞–≤—É–≤–∞–º —Å–æ —Ç–µ—à–∫–∏—Ç–µ –µ–º–æ—Ü–∏–∏?</p>
                <p>‚Ä¢ –®—Ç–æ –º–µ –ø—Ä–∞–≤–∏ –Ω–∞–≤–∏—Å—Ç–∏–Ω–∞ —Å—Ä–µ—ú–µ–Ω/–Ω–∞?</p>
            </div>
            <button class="mt-4 text-purple-600 hover:text-purple-800 font-medium transition-colors duration-200"
                    onclick="useCategory('–ï–º–æ—Ü–∏–∏')">
                –ò–∑–±–µ—Ä–∏ ‚Üí
            </button>
        </div>

        <!-- Goals prompts -->
        <div class="prompt-card card p-2 rounded-xl hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2" data-category="–¶–µ–ª–∏">
            <div class="text-3xl mb-3">üéØ</div>
            <h3 class="text-lg font-semibold text-purple-800 mb-3">–¶–µ–ª–∏</h3>
            <div class="space-y-2 text-sm text-purple-700">
                <p>‚Ä¢ –®—Ç–æ —Å–∞–∫–∞–º –¥–∞ –ø–æ—Å—Ç–∏–≥–Ω–∞–º –≤–æ —Å–ª–µ–¥–Ω–∏—Ç–µ 6 –º–µ—Å–µ—Ü–∏?</p>
                <p>‚Ä¢ –ö–æ–∏ –Ω–∞–≤–∏–∫–∏ —Å–∞–∫–∞–º –¥–∞ –≥–∏ —Ä–∞–∑–≤–∏—ò–∞–º?</p>
                <p>‚Ä¢ –®—Ç–æ –º–µ —Å–ø—Ä–µ—á—É–≤–∞ –¥–∞ –≥–∏ –ø–æ—Å—Ç–∏–≥–Ω–∞–º –º–æ–∏—Ç–µ —Ü–µ–ª–∏?</p>
                <p>‚Ä¢ –ö–∞–∫–æ —ú–µ –∏–∑–≥–ª–µ–¥–∞ –º–æ—ò–æ—Ç –∏–¥–µ–∞–ª–µ–Ω –¥–µ–Ω?</p>
            </div>
            <button class="mt-4 text-purple-600 hover:text-purple-800 font-medium transition-colors duration-200"
                    onclick="useCategory('–¶–µ–ª–∏')">
                –ò–∑–±–µ—Ä–∏ ‚Üí
            </button>
        </div>

        <!-- Relationships prompts -->
        <div class="prompt-card card p-2 rounded-xl hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2" data-category="–û–¥–Ω–æ—Å–∏">
            <div class="text-3xl mb-3">üë•</div>
            <h3 class="text-lg font-semibold text-purple-800 mb-3">–û–¥–Ω–æ—Å–∏</h3>
            <div class="space-y-2 text-sm text-purple-700">
                <p>‚Ä¢ –ö–æ—ò —á–æ–≤–µ–∫ –Ω–∞—ò–º–Ω–æ–≥—É –≤–ª–∏—ò–∞–µ –Ω–∞ –º–æ—ò–æ—Ç –∂–∏–≤–æ—Ç?</p>
                <p>‚Ä¢ –ö–∞–∫–æ –º–æ–∂–∞–º –¥–∞ –±–∏–¥–∞–º –ø–æ–¥–æ–±–∞—Ä –ø—Ä–∏—ò–∞—Ç–µ–ª?</p>
                <p>‚Ä¢ –®—Ç–æ —Å–∞–∫–∞–º –ª—É—ì–µ—Ç–æ –¥–∞ –∑–Ω–∞–∞—Ç –∑–∞ –º–µ–Ω–µ?</p>
                <p>‚Ä¢ –ö–æ—ò –æ–¥–Ω–æ—Å —Å–∞–∫–∞–º –¥–∞ –≥–æ –ø–æ–¥–æ–±—Ä–∞–º?</p>
            </div>
            <button class="mt-4 text-purple-600 hover:text-purple-800 font-medium transition-colors duration-200"
                    onclick="useCategory('–û–¥–Ω–æ—Å–∏')">
                –ò–∑–±–µ—Ä–∏ ‚Üí
            </button>
        </div>

        <!-- Gratitude prompts -->
        <div class="prompt-card card p-2 rounded-xl hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2" data-category="–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç">
            <div class="text-3xl mb-3">üôè</div>
            <h3 class="text-lg font-semibold text-purple-800 mb-3">–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç</h3>
            <div class="space-y-2 text-sm text-purple-700">
                <p>‚Ä¢ –ó–∞ –∫–æ–µ –∏—Å–∫—É—Å—Ç–≤–æ —Å—É–º –Ω–∞—ò–±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω/–Ω–∞?</p>
                <p>‚Ä¢ –ö–æ—ò –º–∏ –ø–æ–º–æ–≥–Ω–∞ –¥–∞ —Ä–∞—Å—Ç–∞–º –∫–∞–∫–æ –ª–∏—á–Ω–æ—Å—Ç?</p>
                <p>‚Ä¢ –®—Ç–æ –æ–¥ –º–æ—ò–æ—Ç –∂–∏–≤–æ—Ç –≥–æ –∑–µ–º–∞–º –∑–¥—Ä–∞–≤–æ –∑–∞ –≥–æ—Ç–æ–≤–æ?</p>
                <p>‚Ä¢ –ö–∞–∫–æ –º–æ–∂–∞–º –¥–∞ –ø–æ–∫–∞–∂–∞–º –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç –¥–µ–Ω–µ—Å?</p>
            </div>
            <button class="mt-4 text-purple-600 hover:text-purple-800 font-medium transition-colors duration-200"
                    onclick="useCategory('–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç')">
                –ò–∑–±–µ—Ä–∏ ‚Üí
            </button>
        </div>

        <!-- Creative prompts -->
        <div class="prompt-card card p-2 rounded-xl hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2" data-category="–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç">
            <div class="text-3xl mb-3">üé®</div>
            <h3 class="text-lg font-semibold text-purple-800 mb-3">–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç</h3>
            <div class="space-y-2 text-sm text-purple-700">
                <p>‚Ä¢ –ê–∫–æ –º–æ–∂–µ–≤ –¥–∞ –∂–∏–≤–µ–∞–º –±–∏–ª–æ –∫–∞–¥–µ, –∫–∞–¥–µ –±–∏ –±–∏–ª–æ?</p>
                <p>‚Ä¢ –ö–∞–∫–æ –±–∏ –∏–∑–≥–ª–µ–¥–∞–ª –º–æ—ò–æ—Ç –ø–µ—Ä—Ñ–µ–∫—Ç–µ–Ω –¥–µ–Ω?</p>
                <p>‚Ä¢ –®—Ç–æ –±–∏ –Ω–∞–ø—Ä–∞–≤–∏–ª/–∞ –∞–∫–æ –Ω–µ–º–∞–≤ —Å—Ç—Ä–∞–≤?</p>
                <p>‚Ä¢ –ö–æ—ò —Å–æ–Ω —Å–∞–∫–∞–º –¥–∞ –≥–æ –æ—Å—Ç–≤–∞—Ä–∞–º?</p>
            </div>
            <button class="mt-4 text-purple-600 hover:text-purple-800 font-medium transition-colors duration-200"
                    onclick="useCategory('–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç')">
                –ò–∑–±–µ—Ä–∏ ‚Üí
            </button>
        </div>
    </div>

    <!-- Popular Questions Section -->
    <div class="card mb-8">
        <h2 class="text-2xl font-bold text-purple-800 mb-6 text-center">üî• –ü–æ–ø—É–ª–∞—Ä–Ω–∏ –ø—Ä–∞—à–∞—ö–∞</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
            {% for question in questions[:10] %}
            <div class="question-item bg-purple-50 rounded-lg p-4 hover:bg-purple-100 transition-colors duration-200 cursor-pointer"
                 onclick="selectQuestion('{{ question }}')">
                <div class="flex items-start space-x-3">
                    <div class="text-purple-500 text-lg">üí≠</div>
                    <p class="text-purple-800 font-medium">{{ question }}</p>
                </div>
            </div>
            {% endfor %}
        </div>
    </div>

    <!-- Writing Tips Section -->
    <div class="card mb-8 p-4 rounded-xl bg-gradient-to-r from-blue-50 to-indigo-50">
        <h2 class="text-2xl font-bold text-purple-800 mb-6 text-center">‚úçÔ∏è –°–æ–≤–µ—Ç–∏ –∑–∞ –ø–∏—à—É–≤–∞—ö–µ</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="text-center">
                <div class="text-4xl mb-3">‚è∞</div>
                <h3 class="font-semibold text-purple-800 mb-2">–ü–æ—Å–≤–µ—Ç–µ—Ç–µ –≤—Ä–µ–º–µ</h3>
                <p class="text-purple-600 text-sm">–û–¥–≤–æ—ò—Ç–µ 10-15 –º–∏–Ω—É—Ç–∏ –¥–Ω–µ–≤–Ω–æ –∑–∞ –ø–∏—à—É–≤–∞—ö–µ. –ö–≤–∞–ª–∏—Ç–µ—Ç–æ—Ç –µ –ø–æ–≤–∞–∂–µ–Ω –æ–¥ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ—Ç–æ.</p>
            </div>
            <div class="text-center">
                <div class="text-4xl mb-3">‚ù§Ô∏è</div>
                <h3 class="font-semibold text-purple-800 mb-2">–ë–∏–¥–µ—Ç–µ –∏—Å–∫—Ä–µ–Ω–∏</h3>
                <p class="text-purple-600 text-sm">–ü–∏—à—É–≤–∞—ò—Ç–µ –æ–¥ —Å—Ä—Ü–µ. –û–≤–∞ –µ –≤–∞—à –±–µ–∑–±–µ–¥–µ–Ω –ø—Ä–æ—Å—Ç–æ—Ä –∑–∞ –∏—Å–∫—Ä–µ–Ω–∏ –º–∏—Å–ª–∏ –∏ —á—É–≤—Å—Ç–≤–∞.</p>
            </div>
            <div class="text-center">
                <div class="text-4xl mb-3">üå±</div>
                <h3 class="font-semibold text-purple-800 mb-2">–†–∞—Å—Ç–µ—Ç–µ –ø–æ–ª–µ–∫–∞</h3>
                <p class="text-purple-600 text-sm">–ù–µ –æ—á–µ–∫—É–≤–∞—ò—Ç–µ —Å–æ–≤—Ä—à–µ–Ω—Å—Ç–≤–æ. –°–µ–∫–æ—ò –¥–µ–Ω –µ –º–æ–∂–Ω–æ—Å—Ç –∑–∞ –Ω–æ–≤ –ø–æ—á–µ—Ç–æ–∫ –∏ —Ä–∞—Å—Ç.</p>
            </div>
        </div>
    </div>

    <!-- Quick Actions -->
    <div class="flex flex-wrap justify-center gap-4">
        <a href="{{ url_for('journal.index') }}" class="btn-primary">
            ‚úèÔ∏è –ó–∞–ø–æ—á–Ω–∏ —Å–æ –ø–∏—à—É–≤–∞—ö–µ
        </a>
        <a href="{{ url_for('journal.history') }}" class="btn-secondary">
            üìö –ò—Å—Ç–æ—Ä–∏—ò–∞
        </a>
    </div>
</div>

<!-- Modal for selected question -->
<div id="question-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-2xl p-8 max-w-2xl w-full">
        <div class="text-center mb-6">
            <div class="text-4xl mb-4">‚ú®</div>
            <h3 class="text-2xl font-bold text-purple-800 mb-2">–ò–∑–±—Ä–∞–Ω–æ –ø—Ä–∞—à–∞—ö–µ</h3>
        </div>

        <div class="bg-purple-50 rounded-xl p-6 mb-6">
            <p class="text-lg text-purple-800 font-medium" id="selected-question"></p>
        </div>

        <div class="flex flex-wrap justify-center gap-4">
            <button onclick="startWriting()" class="btn-primary">
                ‚úçÔ∏è –ó–∞–ø–æ—á–Ω–∏ –¥–∞ –ø–∏—à—É–≤–∞—à
            </button>
            <button onclick="getAnotherQuestion()" class="btn-secondary">
                üîÑ –î—Ä—É–≥–æ –ø—Ä–∞—à–∞—ö–µ
            </button>
            <button onclick="closeModal()" class="btn-secondary">
                ‚ùå –ó–∞—Ç–≤–æ—Ä–∏
            </button>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_scripts %}
<script>
    const allQuestions = {{ questions|tojson }};
    const categoryQuestions = {
        '–°–∞–º–æ—Ä–µfl–µ–∫—Å–∏—ò–∞': [
            '–®—Ç–æ –Ω–æ–≤ –Ω–∞—É—á–∏–≤ –∑–∞ —Å–µ–±–µ –æ–≤–∞–∞ –Ω–µ–¥–µ–ª–∞?',
            '–ö–æ–≥–∞ –ø–æ—Å–ª–µ–¥–µ–Ω –ø–∞—Ç –∏–∑–ª–µ–≥–æ–≤ –æ–¥ –º–æ—ò–∞—Ç–∞ –∑–æ–Ω–∞ –Ω–∞ –∫–æ–º—Ñ–æ—Ä?',
            '–ö–æ–∏ —Å–µ –º–æ–∏—Ç–µ –Ω–∞—ò–≥–æ–ª–µ–º–∏ —ò–∞—á–∏–Ω–∏?',
            '–®—Ç–æ –±–∏ —Å–∞–∫–∞–ª/–∞ –¥–∞ –ø—Ä–æ–º–µ–Ω–∏–∞–º –≤–æ —Å–µ–±–µ?',
            '–ö–∞–∫–æ —Å–µ –º–µ–Ω—É–≤–∞–º –∫–∞–∫–æ –ª–∏—á–Ω–æ—Å—Ç?',
            '–®—Ç–æ –º–µ –ø—Ä–∞–≤–∏ —É–Ω–∏–∫–∞—Ç–µ–Ω/–Ω–∞?'
        ],
        '–ï–º–æ—Ü–∏–∏': [
            '–ö–æ—ò–∞ –µ–º–æ—Ü–∏—ò–∞ –º–µ –≤–æ–¥–µ—à–µ –¥–µ–Ω–µ—Å?',
            '–ö–æ–≥–∞ —Å–µ —á—É–≤—Å—Ç–≤—É–≤–∞–º –Ω–∞—ò–∞–≤—Ç–µ–Ω—Ç–∏—á–Ω–æ?',
            '–ö–∞–∫–æ —Å–µ —Å–ø—Ä–∞–≤—É–≤–∞–º —Å–æ —Ç–µ—à–∫–∏—Ç–µ –µ–º–æ—Ü–∏–∏?',
            '–®—Ç–æ –º–µ –ø—Ä–∞–≤–∏ –Ω–∞–≤–∏—Å—Ç–∏–Ω–∞ —Å—Ä–µ—ú–µ–Ω/–Ω–∞?',
            '–ö–æ–≥–∞ –ø–æ—Å–ª–µ–¥–µ–Ω –ø–∞—Ç –ø–ª–∞—á–µ–≤ –∏ –∑–æ—à—Ç–æ?',
            '–ö–∞–∫–æ –ø–æ–∫–∞–∂—É–≤–∞–º —ô—É–±–æ–≤ –∫–æ–Ω —Å–µ–±–µ?'
        ],
        '–¶–µ–ª–∏': [
            '–®—Ç–æ —Å–∞–∫–∞–º –¥–∞ –ø–æ—Å—Ç–∏–≥–Ω–∞–º –≤–æ —Å–ª–µ–¥–Ω–∏—Ç–µ 6 –º–µ—Å–µ—Ü–∏?',
            '–ö–æ–∏ –Ω–∞–≤–∏–∫–∏ —Å–∞–∫–∞–º –¥–∞ –≥–∏ —Ä–∞–∑–≤–∏—ò–∞–º?',
            '–®—Ç–æ –º–µ —Å–ø—Ä–µ—á—É–≤–∞ –¥–∞ –≥–∏ –ø–æ—Å—Ç–∏–≥–Ω–∞–º –º–æ–∏—Ç–µ —Ü–µ–ª–∏?',
            '–ö–∞–∫–æ —ú–µ –∏–∑–≥–ª–µ–¥–∞ –º–æ—ò–æ—Ç –∏–¥–µ–∞–ª–µ–Ω –¥–µ–Ω?',
            '–ö–æ—ò–∞ —Ü–µ–ª –º–µ –ø–ª–∞—à–∏ –Ω–∞—ò–º–Ω–æ–≥—É?',
            '–®—Ç–æ —Å–∞–∫–∞–º –¥–∞ –Ω–∞—É—á–∞–º –Ω–µ—à—Ç–æ –Ω–æ–≤–æ?'
        ],
        '–û–¥–Ω–æ—Å–∏': [
            '–ö–æ—ò —á–æ–≤–µ–∫ –Ω–∞—ò–º–Ω–æ–≥—É –≤–ª–∏—ò–∞–µ –Ω–∞ –º–æ—ò–æ—Ç –∂–∏–≤–æ—Ç?',
            '–ö–∞–∫–æ –º–æ–∂–∞–º –¥–∞ –±–∏–¥–∞–º –ø–æ–¥–æ–±–∞—Ä –ø—Ä–∏—ò–∞—Ç–µ–ª?',
            '–®—Ç–æ —Å–∞–∫–∞–º –ª—É—ì–µ—Ç–æ –¥–∞ –∑–Ω–∞–∞—Ç –∑–∞ –º–µ–Ω–µ?',
            '–ö–æ—ò –æ–¥–Ω–æ—Å —Å–∞–∫–∞–º –¥–∞ –≥–æ –ø–æ–¥–æ–±—Ä–∞–º?',
            '–ö–∞–∫–æ –ø–æ–∫–∞–∂—É–≤–∞–º –¥–µ–∫–∞ –≥–∏ —Å–∞–∫–∞–º –ª—É—ì–µ—Ç–æ?',
            '–ö–æ—ò –º–∏ –µ –Ω–∞—ò–≥–æ–ª–µ–º–∞—Ç–∞ –ø–æ–¥–¥—Ä—à–∫–∞?'
        ],
        '–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç': [
            '–ó–∞ –∫–æ–µ –∏—Å–∫—É—Å—Ç–≤–æ —Å—É–º –Ω–∞—ò–±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω/–Ω–∞?',
            '–ö–æ—ò –º–∏ –ø–æ–º–æ–≥–Ω–∞ –¥–∞ —Ä–∞—Å—Ç–∞–º –∫–∞–∫–æ –ª–∏—á–Ω–æ—Å—Ç?',
            '–®—Ç–æ –æ–¥ –º–æ—ò–æ—Ç –∂–∏–≤–æ—Ç –≥–æ –∑–µ–º–∞–º –∑–¥—Ä–∞–≤–æ –∑–∞ –≥–æ—Ç–æ–≤–æ?',
            '–ö–∞–∫–æ –º–æ–∂–∞–º –¥–∞ –ø–æ–∫–∞–∂–∞–º –±–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç –¥–µ–Ω–µ—Å?',
            '–ó–∞ –∫–æ—ò–∞ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç —Å—É–º –±–ª–∞–≥–æ–¥–∞—Ä–µ–Ω/–Ω–∞?',
            '–ö–æ—ò –º–æ–º–µ–Ω—Ç –æ–¥ –¥–µ–Ω–µ–≤–µ –º–µ –∏—Å–ø–æ–ª–Ω–∏ —Å–æ —Ä–∞–¥–æ—Å—Ç?'
        ],
        '–ö—Ä–µ–∞—Ç–∏–≤–Ω–æ—Å—Ç': [
            '–ê–∫–æ –º–æ–∂–µ–≤ –¥–∞ –∂–∏–≤–µ–∞–º –±–∏–ª–æ –∫–∞–¥–µ, –∫–∞–¥–µ –±–∏ –±–∏–ª–æ?',
            '–ö–∞–∫–æ –±–∏ –∏–∑–≥–ª–µ–¥–∞–ª –º–æ—ò–æ—Ç –ø–µ—Ä—Ñ–µ–∫—Ç–µ–Ω –¥–µ–Ω?',
            '–®—Ç–æ –±–∏ –Ω–∞–ø—Ä–∞–≤–∏–ª/–∞ –∞–∫–æ –Ω–µ–º–∞–≤ —Å—Ç—Ä–∞–≤?',
            '–ö–æ—ò —Å–æ–Ω —Å–∞–∫–∞–º –¥–∞ –≥–æ –æ—Å—Ç–≤–∞—Ä–∞–º?',
            '–ê–∫–æ –º–æ–∂–µ–≤ –¥–∞ –Ω–∞—É—á–∞–º –±–∏–ª–æ —à—Ç–æ, —à—Ç–æ –±–∏ –±–∏–ª–æ?',
            '–ö–æ—ò –∏—Å—Ç–æ—Ä–∏—Å–∫–∏ –ª–∏—á–Ω–æ—Å—Ç –±–∏ —Å–∞–∫–∞–ª/–∞ –¥–∞ –∑–∞–ø–æ–∑–Ω–∞–∞–º?'
        ]
    };

    let currentQuestion = '';

    // Category tabs functionality
    document.querySelectorAll('.category-tab').forEach(tab => {
        tab.addEventListener('click', function() {
            // Remove active class from all tabs
            document.querySelectorAll('.category-tab').forEach(t => t.classList.remove('active'));
            // Add active class to clicked tab
            this.classList.add('active');

            const category = this.dataset.category;
            filterPrompts(category);
        });
    });

    function filterPrompts(category) {
        const promptCards = document.querySelectorAll('.prompt-card');

        promptCards.forEach(card => {
            if (category === 'all' || card.dataset.category === category) {
                card.style.display = 'block';
            } else {
                card.style.display = 'none';
            }
        });
    }

    // Random question functionality
    document.getElementById('get-random-question').addEventListener('click', function() {
        const randomQuestion = allQuestions[Math.floor(Math.random() * allQuestions.length)];
        document.getElementById('random-question').textContent = randomQuestion;
        document.getElementById('use-question').style.display = 'inline-block';
        currentQuestion = randomQuestion;

        // Add animation
        const questionEl = document.getElementById('random-question');
        questionEl.style.opacity = '0';
        questionEl.style.transform = 'translateY(10px)';

        setTimeout(() => {
            questionEl.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
            questionEl.style.opacity = '1';
            questionEl.style.transform = 'translateY(0)';
        }, 100);
    });

    document.getElementById('use-question').addEventListener('click', function() {
        selectQuestion(currentQuestion);
    });

    function useCategory(category) {
        const questions = categoryQuestions[category];
        const randomQuestion = questions[Math.floor(Math.random() * questions.length)];
        selectQuestion(randomQuestion);
    }

    function selectQuestion(question) {
        currentQuestion = question;
        document.getElementById('selected-question').textContent = question;
        document.getElementById('question-modal').classList.remove('hidden');
    }

    function closeModal() {
        document.getElementById('question-modal').classList.add('hidden');
    }

    function startWriting() {
        // Store the question in session storage for use in the journal
        sessionStorage.setItem('selectedQuestion', currentQuestion);
        window.location.href = '{{ url_for("journal.index") }}';
    }

    function getAnotherQuestion() {
        const randomQuestion = allQuestions[Math.floor(Math.random() * allQuestions.length)];
        selectQuestion(randomQuestion);
    }

    // Save prompts functionality
    document.getElementById('save-prompts').addEventListener('click', function() {
        showNotification('–§—É–Ω–∫—Ü–∏—ò–∞—Ç–∞ –∑–∞ –∑–∞—á—É–≤—É–≤–∞—ö–µ –Ω–∞ –æ–º–∏–ª–µ–Ω–∏ –ø—Ä–∞—à–∞—ö–∞ –Ω–∞—Å–∫–æ—Ä–æ!', 'info');
    });

    // Close modal when clicking outside
    document.getElementById('question-modal').addEventListener('click', function(e) {
        if (e.target === this) {
            closeModal();
        }
    });

    // Keyboard navigation
    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape') {
            closeModal();
        }
    });

    // Animate prompt cards on load
    const promptCards = document.querySelectorAll('.prompt-card');
    promptCards.forEach((card, index) => {
        card.style.opacity = '0';
        card.style.transform = 'translateY(20px)';

        setTimeout(() => {
            card.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
            card.style.opacity = '1';
            card.style.transform = 'translateY(0)';
        }, index * 100);
    });
</script>

<style>
    .category-tab {
        @apply px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 cursor-pointer;
        @apply bg-purple-100 text-purple-700 hover:bg-purple-200;
    }

    .category-tab.active {
        @apply bg-purple-600 text-white;
    }

    .question-item:hover {
        transform: translateX(4px);
    }

    #question-modal {
        backdrop-filter: blur(4px);
    }
</style>
{% endblock %}